"use strict";(this.webpackChunkSituInspector=this.webpackChunkSituInspector||[]).push([[293],{293:(t,e,n)=>{n.r(e),function(){if("undefined"==typeof window)return;if(window.__situWsSelectionBridgeInstalled)return;window.__situWsSelectionBridgeInstalled=!0;let t=null,e=0;function n(){try{t=new WebSocket("ws://127.0.0.1:7126/"),t.onopen=()=>{e=0},t.onmessage=t=>{try{JSON.parse(t.data).type}catch(t){}},t.onclose=()=>{t=null,e<5&&(e++,setTimeout(n,2e3))},t.onerror=t=>{}}catch(t){}}function i(e){try{t&&t.readyState===WebSocket.OPEN&&t.send(JSON.stringify({type:"update_selection",selection:e}))}catch(t){}}function c(t){if(!t)return null;try{const e=t.getAttribute("data-id")||t.id;if(!e)return null;const n=t.getAttribute("data-source")||"";let i="",c=0,o=0;if(n){const t=n.split(":");t.length>=3&&(i=t[0].split("/").pop(),c=parseInt(t[1])||0,o=parseInt(t[2])||0)}const s=t.classList,l=Array.from(s).filter(t=>t.trim().length>0);return{target:{file:i,line:c,column:o,elementId:e,selectors:[`[data-id="${e}"]`],cssClasses:l},suggestedCssSelectors:[`.${l.join(".")}`,`[data-id="${e}"]`,l.length>0?`.${l[0]}[data-id="${e}"]`:`[data-id="${e}"]`]}}catch(t){return null}}function o(){i(c(window.selectedElement))}let s=null;n(),setInterval(function(){const t=window.selectedElement;t!==s&&(s=t,o())},500),window.addEventListener("elementSelected",t=>{setTimeout(o,100)}),setInterval(()=>{t&&t.readyState===WebSocket.OPEN&&t.send(JSON.stringify({type:"ping"}))},3e4),window.__situWsSelectionBridge={sendUpdate:i,generateFromElement:c,connect:n}}()}}]);